define(["plugins/router","durandal/app","data/leagueData"],function(e,t,n){return{router:e,search:function(){t.showMessage("Search not yet implemented...")},adminLinks:ko.computed(function(){return ko.utils.arrayFilter(e.navigationModel(),function(e){return e.adminLink===!0})}),regularLinks:ko.computed(function(){return ko.utils.arrayFilter(e.navigationModel(),function(e){return e.adminLink!==!0})}),activate:function(){ko.bindingHandlers.shortDate={init:function(e,t){var n=t();$(e).text(moment(n).format("MMMM Do YYYY"))}},ko.bindingHandlers.shortTime={init:function(e,t){var n=t();$(e).text(moment(n).format("h:mm a"))}},ko.bindingHandlers.dateTime={init:function(e,t){var n=t(),a=ko.unwrap(n);$(e).text(moment(a).format("MM/DD/YYYY h:mm a"))}},ko.bindingHandlers.datepicker={init:function(e,t,n){var a=n().datepickerOptions||{};$(e).datetimepicker(a),ko.utils.registerEventHandler(e,"changeDate",function(e){var n=t();ko.isObservable(n)&&n(e.date)})},update:function(e,t){var n=$(e).data("datetimepicker");if(n){var a=ko.utils.unwrapObservable(t());a&&(n.date=new Date(ko.utils.unwrapObservable(t())),n.setValue())}}},ko.bindingHandlers.markdown={update:function(e,t){var n=ko.utils.unwrapObservable(t()),a=n&&(new Showdown.converter).makeHtml(n);$(e).html(a||"")}},e.map([{route:"",title:"Home",moduleId:"viewmodels/home",nav:!0},{route:"!fullschedule",title:"Full Schedule",moduleId:"viewmodels/fullschedule",nav:!0},{route:"!standings",title:"Standings",moduleId:"viewmodels/standings",nav:!0},{route:"!teams",title:"Teams",moduleId:"viewmodels/teams",nav:!0},{route:"!teams/:name",title:"Teams",moduleId:"viewmodels/teamschedule",nav:!1},{route:"!locations",title:"Locations",moduleId:"viewmodels/locations",nav:!0},{route:"!locations/:name",title:"Locations",moduleId:"viewmodels/locationschedule",nav:!1},{route:"!rules",title:"Rules",moduleId:"viewmodels/rules",nav:!0},{route:"/leagues",hash:"/",title:"Switch Leagues",nav:!0}]).buildNavigationModel();var t=document.location.pathname.split("/"),a=t[1],r=3===t.length&&"preview"===t[2];return n.primeData(a,r).then(function(){return e.activate()})}}});