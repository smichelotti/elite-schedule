define(["plugins/router","durandal/app","data/leagueData"],function(e,a,t){return{router:e,search:function(){a.showMessage("Search not yet implemented...")},adminLinks:ko.computed(function(){return ko.utils.arrayFilter(e.navigationModel(),function(e){return e.adminLink===!0})}),regularLinks:ko.computed(function(){return ko.utils.arrayFilter(e.navigationModel(),function(e){return e.adminLink!==!0})}),activate:function(){ko.bindingHandlers.shortDate={init:function(e,a){var t=a();$(e).text(moment(t).format("MMMM Do YYYY"))}},ko.bindingHandlers.shortTime={init:function(e,a){var t=a();$(e).text(moment(t).format("h:mm a"))}},ko.bindingHandlers.dateTime={init:function(e,a){var t=a(),n=ko.unwrap(t);$(e).text(moment(n).format("MM/DD/YYYY h:mm a"))}},ko.bindingHandlers.datepicker={init:function(e,a,t){var n=t().datepickerOptions||{};$(e).datetimepicker(n),ko.utils.registerEventHandler(e,"changeDate",function(e){var t=a();ko.isObservable(t)&&t(e.date)})},update:function(e,a){var t=$(e).data("datetimepicker");if(t){var n=ko.utils.unwrapObservable(a());n&&(t.date=new Date(ko.utils.unwrapObservable(a())),t.setValue())}}},ko.bindingHandlers.markdown={update:function(e,a){var t=ko.utils.unwrapObservable(a()),n=t&&(new Showdown.converter).makeHtml(t);$(e).html(n||"")}},e.map([{route:"",title:"Home",moduleId:"viewmodels/home",nav:!0},{route:"!fullschedule",title:"Full Schedule",moduleId:"viewmodels/fullschedule",nav:!0},{route:"!standings",title:"Standings",moduleId:"viewmodels/standings",nav:!0},{route:"!teams",title:"Teams",moduleId:"viewmodels/teams",nav:!0},{route:"!teams/:name",title:"Teams",moduleId:"viewmodels/teamschedule",nav:!1},{route:"!locations",title:"Locations",moduleId:"viewmodels/locations",nav:!0},{route:"!locations/:name",title:"Locations",moduleId:"viewmodels/locationschedule",nav:!1},{route:"!rules",title:"Rules",moduleId:"viewmodels/rules",nav:!0},{route:"/leagues",hash:"/",title:"Switch Leagues",nav:!0}]).buildNavigationModel();var a=document.location.pathname.split("/"),n=a[1],o=3===a.length&&"preview"===a[2];return t.primeData(n,o).then(function(){return e.activate()})}}});